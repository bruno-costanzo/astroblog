---
import Layout from "./Layout.astro";
const { frontmatter } = Astro.props;

const formattedDate = frontmatter.pubDate.toLocaleDateString("es-ES", {
    day: "numeric",
    month: "long",
    year: "numeric",
});
---

<Layout
    pageTitle={frontmatter.title}
    description={frontmatter.description}
    image={frontmatter.image.url}
>
    <article class="container mx-auto p-8 max-w-4xl">
        <header class="mb-8">
            <div class="flex items-center gap-2 text-sm opacity-60 mb-2">
                <time datetime={frontmatter.pubDate.toISOString()}
                    >{formattedDate}</time
                >
                <span>Â·</span>
                <span>{frontmatter.author}</span>
            </div>
            <h1 class="text-4xl font-bold mb-4">{frontmatter.title}</h1>
            <p class="text-lg opacity-80">{frontmatter.description}</p>
            <div class="flex gap-2 mt-4">
                {
                    frontmatter.tags.map((tag: string) => (
                        <a href={`/tags/${tag}`} class="badge badge-outline hover:badge-primary">
                            {tag}
                        </a>
                    ))
                }
            </div>
        </header>

        <figure class="mb-8">
            <img
                src={frontmatter.image.url}
                alt={frontmatter.image.alt}
                class="w-full rounded-lg"
            />
        </figure>

        <div class="prose prose-lg max-w-none">
            <slot />
        </div>
    </article>
</Layout>
